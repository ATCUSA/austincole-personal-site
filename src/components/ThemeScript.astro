<script is:inline>
    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");
        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    const toggleMobileMenu = () => {
        const mobileMenu = document.getElementById("mobile-menu");
        const button = document.getElementById("mobile-menu-button");
        const isHidden = mobileMenu?.classList.contains("hidden");
        
        mobileMenu?.classList.toggle("hidden");
        
        // Update ARIA attributes
        if (button) {
            button.setAttribute("aria-expanded", isHidden ? "true" : "false");
            button.setAttribute("title", isHidden ? "Close navigation menu" : "Open navigation menu");
        }
    }

    // Theme toggle handlers
    document.getElementById("theme-toggle")?.addEventListener("click", handleToggleClick);
    document.getElementById("theme-toggle-mobile")?.addEventListener("click", handleToggleClick);
    
    // Mobile menu toggle
    document.getElementById("mobile-menu-button")?.addEventListener("click", toggleMobileMenu);
</script>
