---
export interface Props {
  testimonial: {
    name: string;
    title: string;
    company: string;
    content: string;
    initials?: string;
  };
  variant?: 'professional' | 'community' | 'personal';
}

const { testimonial, variant = 'professional' } = Astro.props;

const variantClasses = {
  professional: 'bg-brand-100 dark:bg-brand-900/30 text-brand-600 dark:text-brand-400',
  community: 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400',
  personal: 'bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400'
};

const initials = testimonial.initials || testimonial.name.split(' ').map(word => word[0]).join('');
---

<div class="card" role="article">
  <div class="flex items-start gap-4">
    <div class="flex-shrink-0">
      <div class={`w-12 h-12 rounded-full flex items-center justify-center ${variantClasses[variant]}`}>
        <span class="font-semibold text-lg">{initials}</span>
      </div>
    </div>
    <div class="flex-1">
      <blockquote class="text-gray-600 dark:text-gray-300 mb-4 italic">
        "{testimonial.content}"
      </blockquote>
      <div class="text-sm">
        <div class="font-semibold text-gray-900 dark:text-gray-100">{testimonial.name}</div>
        <div class="text-gray-500 dark:text-gray-400">{testimonial.title}{testimonial.company && `, ${testimonial.company}`}</div>
      </div>
    </div>
  </div>
</div>