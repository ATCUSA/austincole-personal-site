---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { formatDateShort } from '../utils/date.js';
import { Image } from 'astro:assets';
import logoImage from '../assets/logo.png';

// Get recent blog posts
const allBlogPosts = await getCollection('blog');
const recentPosts = allBlogPosts
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<Layout title="Home" description="Austin Cole - Deputy IT Director, CISO, Emergency Management Leader, Ham Radio Operator, and ITDRC Volunteer">
	<!-- Hero Section -->
	<section class="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 py-16 relative overflow-hidden">
		<!-- Background Logo -->
		<div class="absolute inset-0 flex items-center justify-center opacity-3 dark:opacity-5">
			<Image
				src={logoImage}
				alt=""
				class="w-96 h-96 object-contain"
				width={384}
				height={384}
			/>
		</div>
		
		<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			<div class="text-center">
				<div class="flex items-center justify-center mb-6">
					<Image
						src={logoImage}
						alt="Austin Cole Logo"
						class="w-20 h-20 object-contain mr-4"
						width={80}
						height={80}
					/>
					<h1 class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-gray-100">
						Austin Cole
					</h1>
				</div>
				<p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto">
					Deputy IT Director & CISO | Emergency Management Leader | Ham Radio Operator | ITDRC Volunteer
				</p>
				<div class="flex flex-col sm:flex-row gap-4 justify-center">
					<a href="/about/" class="btn btn-primary">
						Learn More About Me
					</a>
					<a href="/testimonials/" class="btn btn-secondary">
						View Testimonials
					</a>
					<a href="/blog/" class="btn btn-secondary">
						Read My Blog
					</a>
				</div>
			</div>
		</div>
	</section>

<!-- About Preview -->
<section class="py-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="section-subheading">
                    Passionate About Technology & Community
                </h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg">
                    With over 20 years in IT and cybersecurity, I serve as Deputy IT Director and CISO while leading emergency management initiatives in my community. From founding nonprofits to serving as an EMT/Firefighter and volunteering with ITDRC, I'm dedicated to using technology to strengthen communities and enhance emergency preparedness.
                </p>
                <div class="flex flex-wrap gap-3">
                    <span class="px-3 py-2 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-300 rounded-lg text-sm">
                        Cybersecurity
                    </span>
                    <span class="px-3 py-2 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-300 rounded-lg text-sm">
                        Emergency Management
                    </span>
                    <span class="px-3 py-2 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-300 rounded-lg text-sm">
                        Ham Radio
                    </span>
                    <span class="px-3 py-2 bg-brand-100 dark:bg-brand-900/30 text-brand-700 dark:text-brand-300 rounded-lg text-sm">
                        IoT Projects
                    </span>
                </div>
            </div>
            <div class="card">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                    Current Roles
                </h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100">Deputy IT Director & CISO</h4>
                        <p class="text-gray-600 dark:text-gray-300">Latah County</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100">President & Founder</h4>
                        <p class="text-gray-600 dark:text-gray-300">CommUnity NexUs, Inc. & DSARC</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100">Unit Commander & County EC</h4>
                        <p class="text-gray-600 dark:text-gray-300">Latah County Aux Comm & ARES</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100">Volunteer</h4>
                        <p class="text-gray-600 dark:text-gray-300">IT Disaster Resource Center (ITDRC)</p>
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-900 dark:text-gray-100">EMT/Firefighter</h4>
                        <p class="text-gray-600 dark:text-gray-300">Genesee Fire Department</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest Blog Posts -->
<section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4">
                Latest Blog Posts
            </h2>
            <p class="text-gray-600 dark:text-gray-300 text-lg">
                Thoughts on technology, security, emergency management, and more
            </p>
        </div>
        
        {recentPosts.length > 0 ? (
            <div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    {recentPosts.map((post) => (
                        <article class="card hover:shadow-md transition-shadow duration-200">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3">
                                <a href={`/blog/${post.id}/`} class="hover:text-brand-600 dark:hover:text-brand-400 transition-colors duration-200">
                                    {post.data.title}
                                </a>
                            </h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                {post.data.description}
                            </p>
                            <div class="flex items-center justify-between text-sm text-gray-500 dark:text-gray-400">
                                <time datetime={post.data.pubDate.toISOString()}>
                                    {formatDateShort(post.data.pubDate)}
                                </time>
                                <a href={`/blog/${post.id}/`} class="text-brand-600 dark:text-brand-400 hover:text-brand-700 dark:hover:text-brand-300 font-medium">
                                    Read more â†’
                                </a>
                            </div>
                        </article>
                    ))}
                </div>
                <div class="text-center mt-8">
                    <a href="/blog/" class="btn btn-primary">
                        View All Posts
                    </a>
                </div>
            </div>
        ) : (
            <div class="text-center">
                <p class="text-gray-600 dark:text-gray-300">
                    Blog posts coming soon! Check back later for updates on technology, security, and emergency management.
                </p>
            </div>
        )}
    </div>
</section>

<!-- Contact Section -->
<section class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
            Let's Connect
        </h2>
        <p class="text-gray-600 dark:text-gray-300 text-lg mb-8">
            Always interested in connecting with fellow technology professionals, emergency management colleagues, and ham radio operators. When I'm not working, you'll find me enjoying rides with my family through the beautiful Idaho countryside.
        </p>
        <div class="flex justify-center space-x-6">
            <a href="https://github.com/ATCUSA" class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 transition-colors duration-200" target="_blank" rel="noopener">
                GitHub
            </a>
            <a href="https://www.linkedin.com/in/austintcole/" class="text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 transition-colors duration-200" target="_blank" rel="noopener">
                LinkedIn
            </a>
        </div>
    </div>
</section>
</Layout>
